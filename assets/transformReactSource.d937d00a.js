var j=Object.defineProperty;var o=(e,n)=>j(e,"name",{value:n,configurable:!0});import{ts as l,Node as m}from"https://esm.sh/ts-morph@^15.1.0";import{v as O,a4 as W}from"./index.5728258e.js";function w(e,n){const t=e.getDescendantsOfKind(l.SyntaxKind.JsxAttribute);return n?t.filter(i=>n.includes(i.getName())):t}o(w,"findJSXAttrs");function k(e){return e.getDescendantsOfKind(l.SyntaxKind.ObjectBindingPattern)}o(k,"findObjectBindingPatterns");function _(e){return e.getDescendantsOfKind(l.SyntaxKind.ObjectLiteralExpression)}o(_,"findObjectLiteralExpressions");function T(e){const n=e.getParentWhileKind(l.SyntaxKind.QualifiedName);if(n)return n;const t=e.getParentWhileKind(l.SyntaxKind.TypeReference);if(t)return t;const i=e.getParentWhileKind(l.SyntaxKind.PropertyAccessExpression);return i||e}o(T,"getParentExpr");function J(e,n){const t=e.getImportDeclaration("react"),i=[],r=o(a=>{const s=a.getText();(!n||n.includes(s))&&i.push({name:s,node:a})},"push");if(t){const a=t.getNamespaceImport(),s=t.getNamedImports();for(const f of s){const c=f.getFirstChildByKind(l.SyntaxKind.Identifier);if(c)for(const d of c.findReferencesAsNodes())d!==c&&m.isIdentifier(d)&&r(d)}if(a)for(const f of a.findReferencesAsNodes()){if(f.getFirstAncestorByKind(l.SyntaxKind.NamespaceImport))continue;const d=T(f)?.getLastChildByKind(l.SyntaxKind.Identifier);d&&r(d)}}return i}o(J,"findReactObjects");function y(e,n){e.includes(n)||e.push(n)}o(y,"add");function U(e){const n=e.getImportDeclarations(),t={};for(const i of n){const r=i.getModuleSpecifier().getLiteralText();t[r]||(t[r]={nodes:[],withoutFrom:!0,named:[],defaults:[],namespaces:[]}),t[r].nodes.push(i);for(const f of i.getNamedImports())t[r].withoutFrom=!1,y(t[r].named,f.getText());const a=i.getDefaultImport();a&&(t[r].withoutFrom=!1,y(t[r].defaults,a.getText()));const s=i.getNamespaceImport();s&&(t[r].withoutFrom=!1,y(t[r].namespaces,s.getText()))}for(const i in t){const r=t[i];r.withoutFrom&&e.addImportDeclaration({moduleSpecifier:i}),r.named.length&&e.addImportDeclaration({moduleSpecifier:i,namedImports:r.named});for(const a of r.defaults)e.addImportDeclaration({moduleSpecifier:i,defaultImport:a});for(const a of r.namespaces)e.addImportDeclaration({moduleSpecifier:i,namespaceImport:a});for(const a of r.nodes)a.remove()}}o(U,"groupImports");function z(e){const n=e.getImportDeclarations();for(const i of n)i.getModuleSpecifier().getLiteralText()==="prop-types"&&i.remove();const t=e.getChildrenOfKind(l.SyntaxKind.ExpressionStatement);for(const i of t)i.getFirstChildByKind(l.SyntaxKind.BinaryExpression)?.getFirstChildByKind(l.SyntaxKind.PropertyAccessExpression)?.getLastChildByKind(l.SyntaxKind.Identifier)?.getText()==="propTypes"&&i.remove()}o(z,"removePropTypes");function X(e){const n=e.getImportDeclarations();for(const t of n)t.getModuleSpecifier().getLiteralText()==="react"&&t.remove()}o(X,"removeReactImports");function q(e){e.remove()}o(q,"removeReactKeyAttr");function Q(e){const n=e.getImportDeclarations();for(const t of n){const i=t.getDefaultImport(),r=t.getNamedImports(),a=t.getNamespaceImport();let s=0;i?.findReferencesAsNodes().length===1&&(t.removeDefaultImport(),s++);for(const f of r)(f.getAliasNode()||f.getNameNode()).findReferencesAsNodes().length===1&&(f.remove(),s++);a?.findReferencesAsNodes().length===1&&(t.removeNamespaceImport(),s++),s&&!t.getDefaultImport()&&!t.getNamedImports().length&&!t.getNamespaceImport()&&t.remove()}}o(Q,"removeUnusedImports");const Y={"@mui/base":[/.+/]},Z={"@mui/base/isHostComponent":"@suid/base/utils/isHostComponent"};function C(e){return e.replace(/^@mui/,"@suid")}o(C,"replace");function ee(e){for(const n of e.getImportDeclarations()){const t=n.getModuleSpecifier(),i=t.getLiteralText(),r=Y[i];if(r){const a=n.getNamedImports(),s=[];for(const f of a){const c=f.getName();if(r.some(p=>p.exec(c))){const p=`${i}/${c}`;e.addImportDeclaration({moduleSpecifier:C(Z[p]||p),defaultImport:f.getAliasNode()?.getText()||f.getName()}),s.push(f)}}if(s.length&&s.length===a.length&&!n.getDefaultImport()&&!n.getNamespaceImport()){n.remove();continue}else s.forEach(f=>f.remove())}i.startsWith("@mui/")&&t.setLiteralValue(C(i))}}o(ee,"renameMuiImports");function te(e){let n;return e.getParentWhile(t=>{if(m.isFunctionDeclaration(t)||m.isFunctionExpression(t)){const i=t.getBody()?.getChildrenOfKind(l.SyntaxKind.ReturnStatement);for(const r of i||[]){const s=(r.getChildAtIndexIfKind(1,l.SyntaxKind.ParenthesizedExpression)||r).getChildAtIndex(1);if(m.isJsxFragment(s)||m.isJsxElement(s)||m.isJsxSelfClosingElement(s))return n=t,!1}}return!0}),n}o(te,"getAncestorComponent");function ne(e){return!!e.getFirstAncestorByKind(l.SyntaxKind.JsxElement)}o(ne,"hasAncestorJSX");function N(e,n){if(!n||n.includes("jsx")&&ne(e))return!0;if(n.includes("component")||n.includes("component-top-level")){const t=te(e);return t?n.includes("component-top-level")?e.getFirstAncestor(r=>m.isFunctionDeclaration(r)||m.isFunctionExpression(r)||m.isArrowFunction(r))===t:!0:!1}return!1}o(N,"checkNodeScope");function x(e){if(m.isObjectLiteralExpression(e)||m.isArrayLiteralExpression(e)){for(const n of e.forEachChildAsArray())if(m.isPropertyAssignment(n)){const t=n.getInitializer();if(t&&!x(t))return!1}else if(!x(n))return!1;return!0}return m.isTrueLiteral(e)||m.isFalseLiteral(e)||m.isUndefinedKeyword(e)||m.isNullLiteral(e)||m.isNumericLiteral(e)||m.isStringLiteral(e)||m.isIdentifier(e)}o(x,"isStaticValue");function ie(e){let n=!1;return e.getParentWhile(t=>m.isTypeAliasDeclaration(t)||m.isInterfaceDeclaration(t)||m.isTypeLiteral(t)?(n=!0,!1):!0),n}o(ie,"hasAncestorType");function S(e,n,t=!0){for(const i of e.findReferencesAsNodes()){if(t&&e===i||ie(i))continue;const r=i.getParent();m.isShorthandPropertyAssignment(r)?r.replaceWithText(`${e.getText()}: ${n}`):m.isIdentifier(i)&&i.replaceWithText(n)}}o(S,"renameIdentifiers");function P(e){const n=[];for(const t of e.getChildrenOfKind(l.SyntaxKind.BindingElement)){const i=!!t.getChildAtIndexIfKind(0,l.SyntaxKind.DotDotDotToken),r=t.getChildAtIndexIfKindOrThrow(i?1:0,l.SyntaxKind.Identifier),a={name:r.getText(),rest:i,identifier:r};n.push(a);const s=t.getFirstChildByKind(l.SyntaxKind.EqualsToken);s&&(a.defaults=t.getChildAtIndex(s.getChildIndex()+1));const f=t.getFirstChildByKind(l.SyntaxKind.ColonToken);if(f){const c=t.getChildAtIndex(f.getChildIndex()+1);m.isObjectBindingPattern(c)?a.destruct=P(c):m.isIdentifier(c)&&(a.rename=c)}}return n}o(P,"toJson");function b(e,n=!0){return e.endsWith("?")&&(e=e.slice(0,-1)+" || {}"),n&&e.includes(".")&&(n&&(e=`() => ${e}`),n==="withMergeProps"&&(e=`mergeProps(${e})`)),e}o(b,"safePropName");function D(e,n){const t=[],i=[],r=n.find(c=>c.rest);if(r){const c=r.name,d=JSON.stringify(n.filter(p=>!p.rest).map(p=>p.name));i.push("splitProps"),t.push(`const [, ${c}] = splitProps(${b(e,"withMergeProps")}, ${d});`),S(r.identifier,c)}const a=n.filter(c=>c.defaults&&!c.destruct);if(a.length){const c=`base${O(e)}`.replaceAll(".","_").replaceAll("?",""),p=`{
${a.reduce((u,E)=>(E.defaults&&x(E.defaults)?u+=`${E.name}: ${E.defaults?.getText()},
`:u+=`get ${E.name}() { return ${E.defaults?.getText()}; }
`,u),"")}}`;i.push("mergeProps"),t.push(`const ${c} = mergeProps(${p}, ${b(e)});
`);for(const u of a)S(u.rename||u.identifier,`${c}.${u.identifier.getText()}`)}const s=n.filter(c=>c.destruct);if(s.length)for(const c of s){const d=c.defaults?.getText().trim().startsWith("{"),p=D(`${e}.${c.name}${d?"?":""}`,c.destruct);i.push(...p.solidNamedImports.filter(u=>!i.includes(u))),t.push(...p.sentences)}const f=n.filter(c=>!c.rest&&!c.destruct&&!c.defaults);for(const c of f)S(c.rename||c.identifier,`${e}.${c.identifier.getText()}`);return{sentences:t,solidNamedImports:i}}o(D,"generateSentences");function re(e,n={scopes:["component-top-level","jsx"]}){if(e.wasForgotten()||!N(e,n.scopes))return;const t=e.getParent();let i;const r=P(e);if(m.isParameterDeclaration(t)){const s=(t.getParentIfKind(l.SyntaxKind.FunctionExpression)||t.getParentIfKind(l.SyntaxKind.FunctionDeclaration)||t.getParentIfKind(l.SyntaxKind.ArrowFunction))?.getParameters(),f=s?.indexOf(t);i=s?.length===1?"params":`params_${f}`}else if(t.getKind()===l.SyntaxKind.VariableDeclaration){const a=t.getChildAtIndex(2);if(a.getKind()===l.SyntaxKind.Identifier)i=a.getText();else return}else return;if(t.getKind()===l.SyntaxKind.Parameter){for(const a of r)S(a.rename||a.identifier,`${i}.${a.identifier.getText()}`);t.replaceWithText(i)}else if(t.getKind()===l.SyntaxKind.VariableDeclaration){const{sentences:a,solidNamedImports:s}=D(i,r);s.length&&t.getSourceFile().addImportDeclaration({moduleSpecifier:"solid-js",namedImports:s}),t.getFirstAncestorByKind(l.SyntaxKind.VariableStatement)?.replaceWithText(a.join(`

`))}}o(re,"replaceObjectBinding");function ae(e){e.rename("class")}o(ae,"replaceReactClassNameAttr");function g(e,n,t){const i=T(e);t?("namespaceImport"in t?i.replaceWithText(`${t.namespaceImport}.${n}`):"namespaceNamedImport"in t?i.replaceWithText(`${t.namespaceNamedImport}.${n}`):"namedImport"in t&&i.replaceWithText(`${n}`),e.getSourceFile().addImportDeclaration({moduleSpecifier:t.moduleSpecifier,..."namespaceImport"in t&&{namespaceImport:t.namespaceImport},..."namespaceNamedImport"in t&&{namespaceImport:t.namespaceNamedImport},..."namedImport"in t&&{namedImports:[t.namedImport]}})):i.replaceWithText(n)}o(g,"renameExpr");function se(e){g(e,"Context",{moduleSpecifier:"solid-js",namedImport:"Context"})}o(se,"replaceReactContext");function oe(e){g(e,"createContext",{moduleSpecifier:"solid-js",namedImport:"createContext"})}o(oe,"replaceReactCreateContext");function le(e){const n=T(e).getParentIfKind(l.SyntaxKind.TypeReference);n&&n.getChildren().length>1?g(e,"Component",{moduleSpecifier:"solid-js",namedImport:"Component"}):g(e,"ElementType",{moduleSpecifier:"@suid/types",namespaceImport:"ST"})}o(le,"replaceReactElementType");function ce(e){const n=e.getText();g(e,n,{moduleSpecifier:"@suid/types",namespaceImport:"ST"})}o(ce,"replaceReactEventHandlers");function me(e){const n=e.getText();n==="ChangeEvent"?g(e,n,{moduleSpecifier:"@suid/types",namespaceImport:"ST"}):g(e,n)}o(me,"replaceReactEvents");function I(e,n,t){const i=e;i.__replacePatterns||(i.__replacePatterns={}),i.__replacePatterns[n]=t}o(I,"addReplacePattern");const A=`__EMPTY__${Date.now()}`;function fe(e){const n=e.getFirstAncestorByKind(l.SyntaxKind.JsxElement);I(e.getSourceFile(),A,""),n?.set({name:A})}o(fe,"replaceReactFragment");const{factory:h}=l,V={a:"HTMLAnchorElement",abbr:"HTMLElement",address:"HTMLElement",area:"HTMLAreaElement",article:"HTMLElement",aside:"HTMLElement",audio:"HTMLAudioElement",b:"HTMLElement",base:"HTMLBaseElement",bdi:"HTMLElement",bdo:"HTMLElement",big:"HTMLElement",blockquote:"HTMLElement",body:"HTMLBodyElement",br:"HTMLBRElement",button:"HTMLButtonElement",canvas:"HTMLCanvasElement",caption:"HTMLElement",cite:"HTMLElement",code:"HTMLElement",col:"HTMLTableColElement",colgroup:"HTMLTableColElement",data:"HTMLElement",datalist:"HTMLDataListElement",dd:"HTMLElement",del:"HTMLElement",details:"HTMLDetailsElement",dfn:"HTMLElement",dialog:"HTMLElement",div:"HTMLDivElement",dl:"HTMLDListElement",dt:"HTMLElement",em:"HTMLElement",embed:"HTMLEmbedElement",fieldset:"HTMLFieldSetElement",figcaption:"HTMLElement",figure:"HTMLElement",footer:"HTMLElement",form:"HTMLFormElement",h1:"HTMLHeadingElement",h2:"HTMLHeadingElement",h3:"HTMLHeadingElement",h4:"HTMLHeadingElement",h5:"HTMLHeadingElement",h6:"HTMLHeadingElement",head:"HTMLHeadElement",header:"HTMLElement",hgroup:"HTMLElement",hr:"HTMLHRElement",html:"HTMLHtmlElement",i:"HTMLElement",iframe:"HTMLIFrameElement",img:"HTMLImageElement",input:"HTMLInputElement",ins:"HTMLModElement",kbd:"HTMLElement",keygen:"HTMLElement",label:"HTMLLabelElement",legend:"HTMLLegendElement",li:"HTMLLIElement",link:"HTMLLinkElement",main:"HTMLElement",map:"HTMLMapElement",mark:"HTMLElement",menu:"HTMLElement",menuitem:"HTMLElement",meta:"HTMLMetaElement",meter:"HTMLElement",nav:"HTMLElement",noindex:"HTMLElement",noscript:"HTMLElement",object:"HTMLObjectElement",ol:"HTMLOListElement",optgroup:"HTMLOptGroupElement",option:"HTMLOptionElement",output:"HTMLElement",p:"HTMLParagraphElement",param:"HTMLParamElement",picture:"HTMLElement",pre:"HTMLPreElement",progress:"HTMLProgressElement",q:"HTMLQuoteElement",rp:"HTMLElement",rt:"HTMLElement",ruby:"HTMLElement",s:"HTMLElement",samp:"HTMLElement",script:"HTMLElement",section:"HTMLElement",select:"HTMLSelectElement",small:"HTMLElement",source:"HTMLSourceElement",span:"HTMLSpanElement",strong:"HTMLElement",style:"HTMLStyleElement",sub:"HTMLElement",summary:"HTMLElement",sup:"HTMLElement",table:"HTMLTableElement",tbody:"HTMLTableSectionElement",td:"HTMLTableDataCellElement",textarea:"HTMLTextAreaElement",tfoot:"HTMLTableSectionElement",th:"HTMLTableHeaderCellElement",thead:"HTMLTableSectionElement",time:"HTMLElement",title:"HTMLTitleElement",tr:"HTMLTableRowElement",track:"HTMLTrackElement",u:"HTMLElement",ul:"HTMLUListElement",var:"HTMLElement",video:"HTMLVideoElement",wbr:"HTMLElement",svg:"SVGSVGElement",animate:"SVGAnimateElement",animateMotion:"SVGAnimateMotionElement",animateTransform:"SVGAnimateTransformElement",circle:"SVGCircleElement",clipPath:"SVGClipPathElement",defs:"SVGDefsElement",desc:"SVGDescElement",ellipse:"SVGEllipseElement",feBlend:"SVGFEBlendElement",feColorMatrix:"SVGFEColorMatrixElement",feComponentTransfer:"SVGFEComponentTransferElement",feComposite:"SVGFECompositeElement",feConvolveMatrix:"SVGFEConvolveMatrixElement",feDiffuseLighting:"SVGFEDiffuseLightingElement",feDisplacementMap:"SVGFEDisplacementMapElement",feDistantLight:"SVGFEDistantLightElement",feFlood:"SVGFEFloodElement",feFuncA:"SVGFEFuncAElement",feFuncB:"SVGFEFuncBElement",feFuncG:"SVGFEFuncGElement",feFuncR:"SVGFEFuncRElement",feGaussianBlur:"SVGFEGaussianBlurElement",feImage:"SVGFEImageElement",feMerge:"SVGFEMergeElement",feMergeNode:"SVGFEMergeNodeElement",feMorphology:"SVGFEMorphologyElement",feOffset:"SVGFEOffsetElement",fePointLight:"SVGFEPointLightElement",feSpecularLighting:"SVGFESpecularLightingElement",feSpotLight:"SVGFESpotLightElement",feTile:"SVGFETileElement",feTurbulence:"SVGFETurbulenceElement",filter:"SVGFilterElement",foreignObject:"SVGForeignObjectElement",g:"SVGGElement",image:"SVGImageElement",line:"SVGLineElement",linearGradient:"SVGLinearGradientElement",marker:"SVGMarkerElement",mask:"SVGMaskElement",metadata:"SVGMetadataElement",path:"SVGPathElement",pattern:"SVGPatternElement",polygon:"SVGPolygonElement",polyline:"SVGPolylineElement",radialGradient:"SVGRadialGradientElement",rect:"SVGRectElement",stop:"SVGStopElement",switch:"SVGSwitchElement",symbol:"SVGSymbolElement",text:"SVGTextElement",textPath:"SVGTextPathElement",tspan:"SVGTSpanElement",use:"SVGUseElement",view:"SVGViewElement"};function de(e){for(const n in V)if(V[n]===e)return n}o(de,"findTag");function pe(e){const n=T(e),i=n?.getParentIfKind(l.SyntaxKind.TypeReference)?.getLastChildByKind(l.SyntaxKind.TypeReference);if(i){const r=i.getLastChildByKind(l.SyntaxKind.Identifier)?.getText(),a=r?de(r):null;if(a)i.transform(()=>h.createLiteralTypeNode(h.createStringLiteral(a)));else{const s=W(e.getText().replace(/HTMLAttributes$/,""));s.length&&i.transform(()=>h.createLiteralTypeNode(h.createStringLiteral(s)))}n?.replaceWithText("ST.PropsOf"),e.getSourceFile().addImportDeclaration({namespaceImport:"ST",moduleSpecifier:"@suid/types"})}}o(pe,"replaceReactHTMLAttributes");function ue(e){g(e,"Component",{moduleSpecifier:"solid-js",namedImport:"Component"})}o(ue,"replaceReactJSXElementConstructor");const G=`__REMOVE__${Date.now()}`;function ge(e){const n=T(e),t=n.getParentIfKind(l.SyntaxKind.CallExpression);if(t){const i=t.getArguments();for(let r=1;r<i.length;++r)t.removeArgument(1);I(e.getSourceFile(),G,""),n.replaceWithText(G)}}o(ge,"replaceReactMemo");function Ee(e){g(e,"JSXElement",{moduleSpecifier:"solid-js",namedImport:"JSXElement"})}o(Ee,"replaceReactNode");function Te(e){const n=T(e),t=n.getParentIfKind(l.SyntaxKind.TypeReference),i=t?.forEachChildAsArray()||[];if(t&&i.length>1){const[,r]=i,a=r?.getText();a==="any"?(t.replaceWithText("ST.ElementType"),e.getSourceFile().addImportDeclaration({moduleSpecifier:"@suid/types",namespaceImport:"ST"})):(t.replaceWithText(`Component<${a}>`),e.getSourceFile().addImportDeclaration({moduleSpecifier:"solid-js",namedImports:["Component"]}))}else n.replaceWithText("ST.ElementType"),e.getSourceFile().addImportDeclaration({moduleSpecifier:"@suid/types",namespaceImport:"ST"})}o(Te,"replaceReactReactElement");function Se(e){g(e,"Ref",{moduleSpecifier:"@suid/types",namespaceImport:"ST"})}o(Se,"replaceReactRef");const R=`__REMOVE__${Date.now()}`;function xe(e){const n=T(e),t=n.getParentIfKind(l.SyntaxKind.CallExpression);if(t){const i=t.getArguments();for(let r=1;r<i.length;++r)t.removeArgument(1);I(e.getSourceFile(),R,""),n.replaceWithText(R)}}o(xe,"replaceReactUseCallback");function he(e){g(e,"useContext",{moduleSpecifier:"solid-js",namedImport:"useContext"})}o(he,"replaceReactUseContext");function Le(e){if(m.isArrowFunction(e)&&!e.getChildrenOfKind(l.SyntaxKind.Block)){const n=e.forEachChildAsArray();if(n.length===2)return n[1]}}o(Le,"getInlineReturn");function M(e){return m.isFunctionDeclaration(e)||m.isFunctionExpression(e)||m.isArrowFunction(e)}o(M,"isAnyFunction");function v(e,n={}){const t=T(e),i=t.getParentIfKind(l.SyntaxKind.CallExpression);let r=n.functionName||"createEffect",a=!1,s=!1,f,c,d;if(i){const[p,u]=i.getArguments();if(M(p)){c=p;const E=c.getReturnType().getText();a=E.startsWith("() =>")||E.startsWith("function");const L=Le(c);if(L)M(L)&&(f=L);else{const H=c.getFirstChildByKindOrThrow(l.SyntaxKind.Block).getChildSyntaxListOrThrow(),F=H.getFirstChildByKind(l.SyntaxKind.ReturnStatement);if(F&&H.getChildren().length===1){const[K]=F.forEachChildAsArray();M(K)&&(f=K)}}}m.isArrayLiteralExpression(u)&&(d=u,d.getElements().length?n.removeDependencies||(s=!0):r="onMount")}a?(r==="onMount"&&f?(r="onCleanup",c?.replaceWithText(f.getText()),e.getSourceFile().addImportDeclaration({namedImports:[r],moduleSpecifier:"solid-js"})):(r+="WithCleaning",e.getSourceFile().addImportDeclaration({defaultImport:r,moduleSpecifier:`@suid/system/${r}`})),t.replaceWithText(r)):(t.replaceWithText(r),e.getSourceFile().addImportDeclaration({namedImports:[r,...s?["on"]:[]],moduleSpecifier:"solid-js"})),c&&d&&s&&c.replaceWithText(`on(
() => ${d.getText()},
${c.getText()}
)`),d&&i?.removeArgument(d)}o(v,"replaceReactUseEffect");function ye(e,n={}){return v(e,{...n,functionName:"createRenderEffect"})}o(ye,"replaceReactUseLayoutEffect");function $(e,n=!1){const t=e.getText();S(e,`${t}()`),n&&e.replaceWithText(t)}o($,"renameGetterVarToCall");function Me(e){const n=T(e),t=n.getFirstAncestorByKind(l.SyntaxKind.CallExpression);if(t){const i=t.getFirstAncestorByKind(l.SyntaxKind.VariableDeclaration);if(i){const a=i.getFirstChildByKind(l.SyntaxKind.Identifier);a&&$(a,!0)}t.getArguments().length>1&&t.removeArgument(1)}n.replaceWithText("createMemo"),e.getSourceFile().addImportDeclaration({namedImports:["createMemo"],moduleSpecifier:"solid-js"})}o(Me,"replaceReactUseMemo");function Ie(e){const n=T(e),i=n.getFirstAncestorByKind(l.SyntaxKind.CallExpression)?.getFirstAncestorByKind(l.SyntaxKind.VariableDeclaration);if(i){const r=i.getFirstDescendantByKind(l.SyntaxKind.ArrayBindingPattern);if(r){const s=r.getFirstDescendantByKind(l.SyntaxKind.BindingElement)?.getFirstDescendantByKind(l.SyntaxKind.Identifier);s&&$(s,!0)}}n.replaceWithText("createSignal"),e.getSourceFile().addImportDeclaration({namedImports:["createSignal"],moduleSpecifier:"solid-js"})}o(Ie,"replaceReactUseState");function B(e){if(e.wasForgotten())return"";const n=[];let t=[];const i=o(()=>{t.length&&n.push(`{ ${t.join(`,
`)}}`),t=[]},"drainProperties");for(const a of e.forEachChildAsArray())if(m.isSpreadAssignment(a)){i();const s=a.getChildAtIndex(1);x(s)?n.push(s.getText()):n.push(`() => ${s.getText()}`)}else if(m.isPropertyAssignment(a)){const s=a.getInitializer();let f;m.isObjectLiteralExpression(s)?f=B(s):f=s?.getText()??"undefined",s&&x(s)?t.push(`${a.getName()}: ${f}`):t.push(`get ${a.getName()}() { return ${f} }`)}else if(m.isShorthandPropertyAssignment(a)){const s=a.getName();t.push(`${s}: ${s}`)}else t.push(a.getText());const r=!!n.length;return i(),r?(e.getSourceFile().addImportDeclaration({namedImports:["mergeProps"],moduleSpecifier:"solid-js"}),`mergeProps(${n.join(", ")})`):n[0]??"{}"}o(B,"getSpreadAsignment");function He(e,n={scopes:["component-top-level","jsx"]}){e.wasForgotten()||!N(e,n.scopes)||e.replaceWithText(B(e))}o(He,"replaceSpreadAsignment");const Fe={Fragment:fe,Context:se,createContext:oe,ReactElement:Te,ElementType:le,memo:ge,ReactNode:Ee,Ref:Se,useCallback:xe,useContext:he,useState:Ie,JSXElementConstructor:ue,useMemo:Me,useEffect:v,useLayoutEffect:ye},Ke={className:ae,key:q};function Ve(e){const n=J(e);for(const t of n){if(t.node.wasForgotten())continue;let i=Fe[t.name];i||(t.name.endsWith("EventHandler")?i=ce:t.name.endsWith("Event")?i=me:t.name.endsWith("HTMLAttributes")&&(i=pe)),i?.(t.node)}ee(e),X(e),z(e),k(e).forEach(t=>re(t)),_(e).forEach(t=>He(t)),w(e).forEach(t=>{const i=t.getName();Ke[i]?.(t)}),U(e),Q(e)}o(Ve,"transformReactSource");export{Ve as default};
